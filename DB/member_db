
mysql -u root -p

create database member_db default character set utf8;

grant all privileges on member_db.*to member_user@'localhost' identified by 'member_pass' with grant option;

use member_db;

CREATE TABLE member(
  mem_id int unsigned not null auto_increment,
  family_name varchar(20) not null,
  first_name varchar(20) not null,
  family_name_kana varchar(20) not null,
  first_name_kana varchar(20) not null,
  sex tinyint(1) unsigned not null,
  year varchar(4) not null,
  month varchar(2) not null,
  day varchar(2) not null,
  zip1 varchar(3) not null,
  zip2 varchar(4) not null,
  address varchar(100) not null,
  email varchar(255) not null,
  tel1 varchar(6) not null,
  tel2 varchar(6) not null,
  tel3 varchar(6) not null,
  contents text not null,
  traffic varchar(20) not null,
  regist_date datetime not null,
  update_date datetime,
  delete_date datetime,
  delete_flg tinyint(1) unsigned not null default 0,
  primary key( mem_id ) 
  );

http://www.post.japanpost.jp/zipcode/dl/kogaki.html

の全国一括をダウンロード utf8に変更

CREATE TABLE postcode(

jis varchar(5),
old_zip varchar(5),
zip varchar(7),
pref_kana varchar(100),
city_kana varchar(100),
town_kana varchar(100),
pref varchar(100),
city varchar(100),
town varchar(100),
comment1 tinyint(1)unsigned,
comment2 tinyint(1)unsigned,
comment3 tinyint(1)unsigned,
comment4 tinyint(1)unsigned,
comment5 tinyint(1)unsigned,
comment6 tinyint(1)unsigned
);

mac

LOAD DATA LOCAL INFILE '/Applications/MAMP/htdocs/DT/member/KEN_ALL.CSV' INTO TABLE `postcode` FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY'"';


CREATE TABLE users(password varchar(101) not null);

CREATE TABLE users(password varchar(101) not null);

-- memberのデータベース名を変更作成


-- shoppingとmember

create database DTshopping_db default character set utf8;

grant all privileges on DTshopping_db.*to DTshopping_user@'localhost' identified by 'DTshopping_pass' with grant option;

use DTshopping_db;

CREATE TABLE member(
  mem_id int unsigned not null auto_increment,
  family_name varchar(20) not null,
  first_name varchar(20) not null,
  family_name_kana varchar(20) not null,
  first_name_kana varchar(20) not null,
  sex tinyint(1) unsigned not null,
  year varchar(4) not null,
  month varchar(2) not null,
  day varchar(2) not null,
  zip1 varchar(3) not null,
  zip2 varchar(4) not null,
  address varchar(100) not null,
  email varchar(255) not null,
  tel1 varchar(6) not null,
  tel2 varchar(6) not null,
  tel3 varchar(6) not null,
  contents text not null,
  traffic varchar(20) not null,
  regist_date datetime not null,
  update_date datetime,
  delete_date datetime,
  delete_flg tinyint(1) unsigned not null default 0,
  primary key( mem_id ), 
  password varchar(100) not null
  );


CREATE TABLE postcode(
  jis varchar(5),
  old_zip varchar(5),
  zip varchar(7),
  pref_kana varchar(100),
  city_kana varchar(100),
  town_kana varchar(100),
  pref varchar(100),
  city varchar(100),
  town varchar(100),
  comment1 tinyint(1)unsigned,
  comment2 tinyint(1)unsigned,
  comment3 tinyint(1)unsigned,
  comment4 tinyint(1)unsigned,
  comment5 tinyint(1)unsigned,
  comment6 tinyint(1)unsigned
  );

  LOAD DATA LOCAL INFILE '/Applications/MAMP/htdocs/MSLF/member/KEN_ALL.CSV' INTO TABLE `postcode` FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY'"';

CREATE TABLE memberで作ってしまったレコードに追加処理、
ALTER TABLE member
ADD COLUMN password VARCHAR(101) NOT NULL;
ALTER TABLE member
ADD COLUMN password_confirm VARCHAR(101) NOT NULL;


  テーブルの構造を確認
  desc member;

  insert into : データベースにデータを登録、新規作成、レコードを一個作る


  CREATE TABLE member(
  mem_id int unsigned not null auto_increment,
  family_name varchar(20) not null,
  first_name varchar(20) not null,
  family_name_kana varchar(20) not null,
  first_name_kana varchar(20) not null,
  sex tinyint(1) unsigned not null,
  year varchar(4) not null,
  month varchar(2) not null,
  day varchar(2) not null,
  zip1 varchar(3) not null,
  zip2 varchar(4) not null,
  address varchar(100) not null,
  email varchar(255) not null,
  tel1 varchar(6) not null,
  tel2 varchar(6) not null,
  tel3 varchar(6) not null,
  password varchar(100) not null,
  regist_date datetime not null,
  update_date datetime,
  delete_date datetime,
  delete_flg tinyint(1) unsigned not null default 0,
  primary key( mem_id )
  );


  databaseから一部分を削除
ALTER TABLE member
DROP COLUMN contents,
DROP COLUMN traffic;

